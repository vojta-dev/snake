var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t){return null==t?"":t}function a(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function f(){return t="",document.createTextNode(t);var t}function u(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let d;function p(t){d=t}const h=[],m=[],$=[],g=[],y=Promise.resolve();let b=!1;function k(t){$.push(t)}let v=!1;const w=new Set;function _(){if(!v){v=!0;do{for(let t=0;t<h.length;t+=1){const e=h[t];p(e),x(e.$$)}for(p(null),h.length=0;m.length;)m.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];w.has(e)||(w.add(e),e())}$.length=0}while(h.length);for(;g.length;)g.pop()();b=!1,v=!1,w.clear()}}function x(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const A=new Set;let M;function E(t,e){t&&t.i&&(A.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),M.c.push((()=>{A.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function j(t,e){S(t,1,1,(()=>{e.delete(t.key)}))}function L(t,n,c,s){const{fragment:a,on_mount:l,on_destroy:i,after_update:f}=t.$$;a&&a.m(n,c),s||k((()=>{const n=l.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]})),f.forEach(k)}function N(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function O(t,e){-1===t.$$.dirty[0]&&(h.push(t),b||(b=!0,y.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(e,r,c,s,a,i,f,u=[-1]){const h=d;p(e);const m=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(h?h.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||h.$$.root};f&&f(m.root);let $=!1;if(m.ctx=c?c(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&a(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),$&&O(e,t)),n})):[],m.update(),$=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(l)}else m.fragment&&m.fragment.c();r.intro&&E(e.$$.fragment),L(e,r.target,r.anchor,r.customElement),_()}p(h)}class I{$destroy(){N(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function P(e){let n,o;return{c(){n=i("div"),u(n,"class",o=s(e[0])+" svelte-1plaou5")},m(t,e){a(t,n,e)},p(t,[e]){1&e&&o!==(o=s(t[0])+" svelte-1plaou5")&&u(n,"class",o)},i:t,o:t,d(t){t&&l(n)}}}function q(t,e,n){let{type:o}=e;return t.$$set=t=>{"type"in t&&n(0,o=t.type)},[o]}class B extends I{constructor(t){super(),C(this,t,q,P,c,{type:0})}}function D(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function R(t,e){let n,o,r;return o=new B({props:{type:e[9]}}),{key:t,first:null,c(){var t;n=f(),(t=o.$$.fragment)&&t.c(),this.first=n},m(t,e){a(t,n,e),L(o,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.type=e[9]),o.$set(r)},i(t){r||(E(o.$$.fragment,t),r=!0)},o(t){S(o.$$.fragment,t),r=!1},d(t){t&&l(n),N(o,t)}}}function T(t){let e,n,r,c,s,f=[],d=new Map,p=t[0].flat();const h=t=>t[11];for(let e=0;e<p.length;e+=1){let n=D(t,p,e),o=h(n);d.set(o,f[e]=R(o,n))}return{c(){e=i("main"),n=i("div");for(let t=0;t<f.length;t+=1)f[t].c();var t,o,r;u(n,"id","snake"),t="grid-template",o="repeat("+U+", 1.5rem) / repeat("+U+", 1.5rem)",n.style.setProperty(t,o,r?"important":""),u(n,"class","svelte-6ofi5h"),u(e,"class","svelte-6ofi5h")},m(o,l){a(o,e,l),function(t,e){t.appendChild(e)}(e,n);for(let t=0;t<f.length;t+=1)f[t].m(n,null);var i,u,d,p;r=!0,c||(i=window,u="keydown",d=t[1],i.addEventListener(u,d,p),s=()=>i.removeEventListener(u,d,p),c=!0)},p(t,[e]){1&e&&(p=t[0].flat(),M={r:0,c:[],p:M},f=function(t,e,n,o,r,c,s,a,l,i,f,u){let d=t.length,p=c.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const $=[],g=new Map,y=new Map;for(h=p;h--;){const t=u(r,c,h),a=n(t);let l=s.get(a);l?o&&l.p(t,e):(l=i(a,t),l.c()),g.set(a,$[h]=l),a in m&&y.set(a,Math.abs(h-m[a]))}const b=new Set,k=new Set;function v(t){E(t,1),t.m(a,f),s.set(t.key,t),f=t.first,p--}for(;d&&p;){const e=$[p-1],n=t[d-1],o=e.key,r=n.key;e===n?(f=e.first,d--,p--):g.has(r)?!s.has(o)||b.has(o)?v(e):k.has(r)?d--:y.get(o)>y.get(r)?(k.add(o),v(e)):(b.add(r),d--):(l(n,s),d--)}for(;d--;){const e=t[d];g.has(e.key)||l(e,s)}for(;p;)v($[p-1]);return $}(f,e,h,1,t,p,d,n,j,R,null,D),M.r||o(M.c),M=M.p)},i(t){if(!r){for(let t=0;t<p.length;t+=1)E(f[t]);r=!0}},o(t){for(let t=0;t<f.length;t+=1)S(f[t]);r=!1},d(t){t&&l(e);for(let t=0;t<f.length;t+=1)f[t].d();c=!1,s()}}}const U=30;function Y(t,e,n){let o,r,c=Array(U).fill(null).map((()=>Array(U).fill("empty"))),s=[[Math.floor(U/2),Math.floor(U/2)]],a=[1,0];i();let l=setInterval((()=>{var t;n(2,s=[[s[0][0]+a[0],s[0][1]+a[1]],...s]),t=r,s[0][0]===t[0]&&s[0][1]===t[1]?i():n(2,s=s.slice(0,-1));const e=o[s[0][0]]?.[s[0][1]];"empty"!==e&&"food"!==e&&(clearInterval(l),alert("You died!"),location.reload())}),100);function i(){const t=()=>Math.floor(Math.random()*U);n(3,r=[t(),t()])}return t.$$.update=()=>{12&t.$$.dirty&&n(0,o=c.map(((t,e)=>t.map(((t,n)=>s.some((([t,o])=>t===e&&o===n))?"snake":r[0]===e&&r[1]===n?"food":t)))))},[o,function(t){switch(t.key){case"ArrowDown":a=[1,0];break;case"ArrowUp":a=[-1,0];break;case"ArrowRight":a=[0,1];break;case"ArrowLeft":a=[0,-1]}},s,r]}return new class extends I{constructor(t){super(),C(this,t,Y,T,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
